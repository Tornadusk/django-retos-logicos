{% extends "admin/base_site.html" %}
{% load i18n admin_urls static admin_modify %}

{% block title %}{{ title }} | {{ site_title|default:_('Django site admin') }}{% endblock %}

{% block breadcrumbs %}
<div class="breadcrumbs">
<a href="{% url 'admin:index' %}">{% trans 'Home' %}</a>
&rsaquo; <a href="{% url 'admin:app_list' app_label='retos' %}">Retos</a>
&rsaquo; <a href="{% url 'admin:retos_reto_changelist' %}">Retos</a>
&rsaquo; {{ title }}
</div>
{% endblock %}

{% block content %}
<h1>{{ title }}</h1>

<div class="module aligned">
    <h2>Retos seleccionados ({{ queryset.count }})</h2>
    <ul>
        {% for reto in queryset %}
        <li><strong>{{ reto.titulo }}</strong> - Actualmente: {{ reto.max_intentos }} intentos</li>
        {% endfor %}
    </ul>
</div>

<form method="post">
    {% csrf_token %}
    {{ form.as_p }}
    
    <div class="submit-row">
        <input type="submit" value="Aplicar cambios" class="default" name="apply">
        <a href="{% url 'admin:retos_reto_changelist' %}" class="button cancel-link">Cancelar</a>
    </div>
</form>

<style>
.submit-row {
    margin-top: 20px;
    padding: 10px 0;
    border-top: 1px solid #ddd;
}

.submit-row input[type="submit"] {
    background: #417690;
    color: white;
    padding: 10px 15px;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    margin-right: 10px;
}

.submit-row .cancel-link {
    background: #f8f8f8;
    color: #333;
    padding: 10px 15px;
    text-decoration: none;
    border-radius: 4px;
    border: 1px solid #ddd;
}

.submit-row .cancel-link:hover {
    background: #e8e8e8;
}

.module ul {
    max-height: 200px;
    overflow-y: auto;
    border: 1px solid #ddd;
    padding: 10px;
    background: #f9f9f9;
}

.module li {
    margin-bottom: 5px;
    padding: 5px;
    background: white;
    border-radius: 3px;
}
</style>
{% endblock %}
